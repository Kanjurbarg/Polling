
<div class="container">
  <div class="row mt-1" >
    <div class="col-md-4 col-xs-12">
      <div class="p-2 bg-white border rounded">
        <h3>{{gTitle}}</h3>
        <p>"{{gDescription}}"</p>
        <p>Created On {{gDate}}</p>
        <p>Admin: <b>{{gAdmin}} </b></p>    
      </div>  
      <div class="ml-3 mt-1">  
          <div class="row mr-1 bg-white p-1">
            <label class="" style="font-size:20px;font-weight:bold"> <h2>Members</h2> </label>
          </div>
           <div class="row mr-1 bg-white">
             <input class="col-md-11 ml-3 justify-content-center rounded " [ngbPopover]="popContent" popoverTitle='List of Users' id="dropdownBasic1" type="text"  [(ngModel)]="searchterm" (keydown)="search($event)" (focus)="hide = false" (blur)="hideResults()" placeholder="Search Members">
             <div class="bg-white pb-2" *ngFor="let member of gMembers">
                <div class="col-12 mt-2 bg-white inline float-left">
                    <span>
                    <div class="col-md-12 text-left">
                        <img class="mt-2 rounded-circle" height="50px" width="50px" src="{{member.photoURL}}">
                      {{member.display_name}}@{{member.username}}
                      </div>
                    </span>
                  </div>
            </div>   
            </div>   
              
                    <ng-template class="ml-2 bg-light"  ngbPopover="" #popContent ngdropdownMenu>
                        <div *ngFor="let user of users">
                            <p class="dropdown-item"> <a (click)="addMember(user.uid)">{{user.display_name}}  @{{user.username}}</a></p>
                        </div> 
                    </ng-template>    
        </div>
    </div>  
   

    <div class="col-md-8">
      <div class="bg-white polls pr-3">
        <div class="">
        <ngb-tabset justify="fill">
            <ngb-tab>
                <ng-template ngbTabTitle><b class="">Opinion Polls</b></ng-template>
              <ng-template ngbTabContent>
              <div class="container p-1 m-1">
                <div>

                </div>
              </div>
              </ng-template>
            </ngb-tab>
            <ngb-tab>
              <ng-template ngbTabTitle><b>Election Polls</b></ng-template>
                
              <ng-template ngbTabContent>
                <div class="container p-1 m-1"> 
                  <div>
                    <div class="row">
                      <div *ngFor="let poll of electionPolls">
                        <div class="col-md-9">
                        <h2>
                          {{poll.title}}
                        </h2>
                        <h4>
                          "{{poll.desciption}}"
                        </h4>
                       </div>
                       <div class="col-md-3">
                         <h3>Status</h3>
                          "{{poll.status}}"
                       </div>

                      </div>
                    </div>
                  </div>
                </div>
              </ng-template>
            
            </ngb-tab>
          </ngb-tabset>
        </div>
        </div>   
  </div>

     
  </div>
</div>

<!--Create Modal HTML Template -->

      <!-- Modal -->
      <ng-template #content let-c="close" let-d="dismiss">
          <div class="modal-header">
            <h4 class="modal-title">Create Poll</h4>
            <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
           <form [formGroup]="pollForm"> 
            <div *ngIf="pollType == 'election'">
            <label for="pollTitle">Title</label><input type="text" id="pollTitle" formControlName="title">

            <label for="pollDes">Description</label> <textarea  id="pollDes" rows="3" style="resize:none" formControlName="des"></textarea>
             
            
                <label>Pick a Duration</label>
                  <div class="form-inline row mx-1">
                    <div class="col-2">
                      <button class="btn btn-success" (click)="getDuration(1)">1 Hr</button>
                    </div>
                    <div class="col-2">
                      <button class="btn btn-success" (click)="getDuration(2)">2 Hr</button>
                    </div>
                    <div class="col-2">
                      <button class="btn btn-success" (click)="getDuration(3)">6 Hr</button>
                    </div>
                    <div class="col-2">
                      <button class="btn btn-success" (click)="getDuration(4)">1 Day</button>
                    </div>
                    <div class="col-2">
                      <button class="btn btn-success" (click)="getDuration(5)">2 Days</button>
                    </div>
                  </div>
              </div>
            </form>
            <form>
              <div *ngIf="pollType == 'opinion'">
                <label>Question</label>
                <input type="text" [(ngModel)]="question" name="question" placeholder="Type Your Question Here...." minlength="5" maxlength="50">
                <label>Description of Question</label>
                <textarea [(ngModel)]="desciption" name="desciption" placeholder="Describe Your Question....." id="pollDes" rows="3" style="resize:none"></textarea>
              </div>
            </form>
          </div>
            <div class="modal-footer">
              <button *ngIf="pollType != 'opinion'" class="btn btn-primary" (click)="createPoll(pollType)">Next..</button>
              <button *ngIf="pollType == 'opinion'" class="btn btn-primary" (click)="createPoll(pollType)">Next Step</button>
            </div>
        </ng-template>

        <ng-template #choiceModal let-c="close" let-d="dismiss">
          <div>

          </div>
        </ng-template>
        
  <!--End Modal -->
